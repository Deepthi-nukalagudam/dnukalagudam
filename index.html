<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Author Network — Force Layout Visualization</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Small layout adjustments to ensure controls and viz fit */
    body { font-family: 'Segoe UI', Roboto, Arial, sans-serif; margin:0; background:#f6f9fb; }
    header { text-align:center; padding:28px 12px 6px; }
    header h1 { margin:0; font-size:34px; color:#0b2545; }
    header p { margin:8px 0 18px; color:#5b6b77; }
    .controls { display:flex; gap:18px; align-items:center; padding:12px 18px; background:#fff; border-bottom:1px solid #e6eef5; box-shadow:0 1px 0 rgba(0,0,0,0.02); flex-wrap:wrap; }
    .control { display:flex; align-items:center; gap:8px; font-size:14px; color:#2d3b45; }
    .control input[type=range] { width:160px; }
    #resetBtn { padding:6px 10px; border-radius:4px; border:1px solid #cfdfe9; background:#fff; cursor:pointer; }
    #viz { padding:18px; }
    .card { background:#fff; border-radius:8px; box-shadow: 0 6px 18px rgba(11,37,69,0.06); padding:12px; }
    .legend { display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-left:8px; }
    .legend-item { display:flex; gap:6px; align-items:center; font-size:13px; color:#34414a; }
    .tooltip { position: absolute; pointer-events: none; background: rgba(11,37,69,0.95); color: #fff; padding:8px 10px; border-radius:6px; font-size:13px; box-shadow:0 4px 12px rgba(11,37,69,0.25); }
    /* ensure svg area grows */
    #canvas { width:100%; height:720px; }
  </style>
</head>
<body>
  <header>
    <h1>Author Network — Force Layout Visualization</h1>
    <p>Interactive D3 force simulation. Hover nodes to highlight same affiliation; click for tooltip. Use the sliders to adjust forces.</p>
  </header>

  <div class="controls">
    <div class="control">
      <label>charge strength: <span id="chargeVal">-120</span></label>
      <input id="charge" type="range" min="-1000" max="0" step="10" value="-120">
    </div>
    <div class="control">
      <label>collide radius: <span id="collideVal">8</span></label>
      <input id="collide" type="range" min="0" max="40" step="1" value="8">
    </div>
    <div class="control">
      <label>link strength: <span id="linkVal">0.7</span></label>
      <input id="link" type="range" min="0" max="1" step="0.01" value="0.7">
    </div>
    <button id="resetBtn">Reset</button>
    <div class="legend card" id="legend"></div>
  </div>

  <main id="viz">
    <div class="card" style="padding:0;">
      <svg id="canvas"></svg>
    </div>
  </main>

  <!-- Tooltip container -->
  <div id="tooltip" class="tooltip" style="display:none;"></div>

  <!-- D3 v7 -->
  <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
